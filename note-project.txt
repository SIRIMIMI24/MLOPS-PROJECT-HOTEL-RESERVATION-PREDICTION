1. Create venv -> python -m venv venv
2. activate venv -> venv\Scripts\activate
3. instaill libraries -> pip install -e .
4. Create data_ingestion.py
5. Create data_processing.py
6. Create data_model.py
7. Terminal -> mlflow ui --backend-store-uri sqlite:///mlflow.db --port 5000


---------------------------------- Dockerfile -------------------------

# Use Jenkins LTS image
FROM jenkins/jenkins:lts

USER root

# Install required dependencies
RUN apt-get update -y && \
    apt-get install -y \
        ca-certificates \
        curl \
        gnupg && \
    install -m 0755 -d /etc/apt/keyrings && \
    curl -fsSL https://download.docker.com/linux/debian/gpg \
        | gpg --dearmor -o /etc/apt/keyrings/docker.gpg && \
    chmod a+r /etc/apt/keyrings/docker.gpg && \
    echo \
    "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] \
    https://download.docker.com/linux/debian \
    $(. /etc/os-release && echo $VERSION_CODENAME) stable" \
    > /etc/apt/sources.list.d/docker.list && \
    apt-get update -y && \
    apt-get install -y docker-ce docker-ce-cli containerd.io && \
    apt-get clean && \
    rm -rf /var/lib/apt/lists/*

# Add Jenkins user to docker group
RUN groupadd -f docker && \
    usermod -aG docker jenkins

# Docker volume
VOLUME /var/lib/docker

USER jenkins


--- Custom jenkins
cd custom_jenkins
docker login
docker build -t jenkins-dind .
docker images

--- Setup Jenkins containerd
docker run -d --name jenkins-dind ^
--privileged ^
-p 8080:8080 -p 50000:50000 ^
-v //var/run/docker.sock:/var/run/docker.sock ^
-v jenkins_home:/var/jenkins_home ^
jenkins-dind

docker ps
docker logs jenkins-dind # have password for login of Jenkins


-- Not Use for bash because I create Dockerfile for Install python3.10.16
docker exec -u root -it jenkins-dind bash
apt update -y
apt install -y wget build-essential

wget https://www.python.org/ftp/python/3.10.16/Python-3.10.16.tgz
tar -xzf Python-3.10.16.tgz
cd Python-3.10.16

./configure --enable-optimizations
make -j$(nproc)
make altinstall

ln -s /usr/local/bin/python3.10 /usr/bin/python
ln -s /usr/local/bin/pip3.10 /usr/bin/pip

python --version


docker restart jenkins-dind


git version control
git add Jenkinsfile // git add .
git commit -m "Fix pipeline keyword typo"
git push origin main